package Assign_6;


import BasicIO.*;                // for IO classes
import static BasicIO.Formats.*; // for field formats
import static java.lang.Math.*;  // for math constants and functions


/** This class ...
  *
  * @author <your name>
  * @version 1.0 (<date>)                                                        */

public class Survey {
    
    
    private ASCIIDataFile  surData;
    private ASCIIOutputFile   newsurData;
    private BasicForm      household, person;
    //private ReportPrinter  report;
    /** This constructor ...                                                    */
    
    public Survey ( ) {
       String  adrs;  // address
       String  Name;  
       int     button;
       int     numPeople; // number of people
       int     male;  //  sex of man
       int     female;  //  sex of women
       int     english; // language of english
       int     french;  //  language of french
       int     others;  //  others language
       
       
       surData = new ASCIIDataFile();
       newsurData = new ASCIIOutputFile();
       household = new BasicForm("OK","Skip");
       person = new BasicForm("OK");
       buildhousehold();
       buildperson();
       /*setUpReport();*/
       //buildperson();
      numPeople = 0;

      //newsurData.writeString("");
     // newsurData.newLine();
      for( ; ; ) {
      male = 0;  // initial value of male
      female = 0; // initial value of female
      english = 0; // initial value of english
      french = 0; // initial value of french
      others = 0; // initial value of others
       
           adrs = surData.readString();
           if ( surData.isEOF()  ) break;          
           writeDetailhousehold(adrs, numPeople);
           button =  household.accept();
           if(button ==0) {
           numPeople = household.readInt("members");
                   
           for ( int i =1; i<= numPeople ; i++) {
              person.clearAll();
             // System.out.println("XXXXXXXXXXXXXXXXXXXXXXXXXXXX");
              person.writeInt("num",i);
              person.accept();
              if(person.readInt("sex")== 0){
                 male = male + 1;
              }
              else {
                 female = female + 1;
              }
              if (person.readInt("lang") ==0) {
                english = english + 1;          
              } else if (person.readInt("lang") == 1) {
                french = french +1; 
              }else {
                 others = others + 1;
              }
               
                
             
           }
           }
           if(button == 0){ 
           writesurData(adrs,numPeople,male,female,english,french,others);
           }
        }

         household.close();
         person.close();
 
    }; // constructor
    
    

    
    private void writeDetailhousehold(String adrs,int numPeople) {
         
            
         household.writeString("addr",adrs);       
//         household.writeInt("members",numPeople);
    }
    private void  writeDetailperson(int male, int female, int english,int french,int others){
         person.clearAll();
         person.readInt("sex");
         person.readInt("lang");
    }
       
       private void buildhousehold ( ) {
        
        household.setTitle("Household");
        household.addTextField("addr","Address",20,10,10);
        household.setEditable("addr",false);
        household.addTextField("members","# People",2,10,50);
       }
       
        private void buildperson () {
        person.setTitle("Individual");
        person.addTextField("num","Person",2,10,10);
        person.setEditable("num",false);
        person.addTextField("name","Name",20,10,50);
        person.addTextField("age","Age",3,10,80);
        person.addRadioButtons("sex","Sex",false,10,110,"Male","Female");
        person.addRadioButtons("lang","Language",false,10,160,
                               "English","French","Other");
        
    };  // buildForms

  
      private void writesurData(String adrs, int numPeople,int male, int female, int english, int french, int others) {
                  newsurData.writeString(adrs);
                  newsurData.writeInt(numPeople);
                  newsurData.writeInt(male);
                  newsurData.writeInt(female);
                  newsurData.writeInt(english);
                  newsurData.writeInt(french);
                  newsurData.writeInt(others);
                  newsurData.newLine();
       
      }
    
    
    public static void main ( String[] args ) { Survey c = new Survey (); };
    
    
} // <className>
